-- ============================================
-- 测试数据脚本
-- 用于填充空表，方便测试系统功能
-- ============================================

-- 选择数据库
USE myHRSystem;

SET FOREIGN_KEY_CHECKS = 0;

-- ============================================
-- 1. 薪酬标准数据 (salary_standard)
-- ============================================
-- 为前端工程师职位创建不同职称的薪酬标准
INSERT INTO `salary_standard` (`standard_code`, `standard_name`, `position_id`, `job_title`, `formulator_id`, `registrar_id`, `registration_time`, `reviewer_id`, `review_time`, `review_comments`, `status`, `create_time`, `update_time`) VALUES
('SAL202501001', '前端工程师-初级标准', 1, 'JUNIOR', NULL, 4, '2025-01-15 10:00:00', 5, '2025-01-16 14:30:00', '标准合理，已通过', 'APPROVED', '2025-01-15 10:00:00', '2025-01-16 14:30:00'),
('SAL202501002', '前端工程师-中级标准', 1, 'INTERMEDIATE', NULL, 4, '2025-01-15 10:00:00', 5, '2025-01-16 14:30:00', '标准合理，已通过', 'APPROVED', '2025-01-15 10:00:00', '2025-01-16 14:30:00'),
('SAL202501003', '前端工程师-高级标准', 1, 'SENIOR', NULL, 4, '2025-01-15 10:00:00', NULL, NULL, NULL, 'PENDING_REVIEW', '2025-01-15 10:00:00', '2025-01-15 10:00:00');

-- 为后端工程师职位创建薪酬标准
INSERT INTO `salary_standard` (`standard_code`, `standard_name`, `position_id`, `job_title`, `formulator_id`, `registrar_id`, `registration_time`, `reviewer_id`, `review_time`, `review_comments`, `status`, `create_time`, `update_time`) VALUES
('SAL202501004', '后端工程师-中级标准', 2, 'INTERMEDIATE', NULL, 4, '2025-01-15 10:00:00', 5, '2025-01-16 14:30:00', '标准合理，已通过', 'APPROVED', '2025-01-15 10:00:00', '2025-01-16 14:30:00'),
('SAL202501005', '后端工程师-高级标准', 2, 'SENIOR', NULL, 4, '2025-01-15 10:00:00', 5, '2025-01-16 14:30:00', '标准合理，已通过', 'APPROVED', '2025-01-15 10:00:00', '2025-01-16 14:30:00');

-- 为产品经理职位创建薪酬标准
INSERT INTO `salary_standard` (`standard_code`, `standard_name`, `position_id`, `job_title`, `formulator_id`, `registrar_id`, `registration_time`, `reviewer_id`, `review_time`, `review_comments`, `status`, `create_time`, `update_time`) VALUES
('SAL202501006', '产品经理-中级标准', 3, 'INTERMEDIATE', NULL, 4, '2025-01-15 10:00:00', 5, '2025-01-16 14:30:00', '标准合理，已通过', 'APPROVED', '2025-01-15 10:00:00', '2025-01-16 14:30:00');

-- ============================================
-- 2. 薪酬标准明细数据 (salary_standard_item)
-- ============================================
-- 前端工程师-初级标准 (standard_id=1)
INSERT INTO `salary_standard_item` (`standard_id`, `item_id`, `amount`, `is_calculated`, `create_time`, `update_time`) VALUES
(1, 1, 8000.00, 0, '2025-01-15 10:00:00', '2025-01-15 10:00:00'),  -- 基本工资
(1, 2, 2000.00, 0, '2025-01-15 10:00:00', '2025-01-15 10:00:00'),  -- 绩效奖金
(1, 3, 500.00, 0, '2025-01-15 10:00:00', '2025-01-15 10:00:00'),   -- 交通补贴
(1, 4, 300.00, 0, '2025-01-15 10:00:00', '2025-01-15 10:00:00'),   -- 餐费补贴
(1, 5, 200.00, 0, '2025-01-15 10:00:00', '2025-01-15 10:00:00'),   -- 全勤奖
(1, 6, 0.00, 1, '2025-01-15 10:00:00', '2025-01-15 10:00:00'),     -- 养老保险（自动计算）
(1, 7, 0.00, 1, '2025-01-15 10:00:00', '2025-01-15 10:00:00'),     -- 医疗保险（自动计算）
(1, 8, 0.00, 1, '2025-01-15 10:00:00', '2025-01-15 10:00:00'),     -- 失业保险（自动计算）
(1, 9, 0.00, 1, '2025-01-15 10:00:00', '2025-01-15 10:00:00');      -- 住房公积金（自动计算）

-- 前端工程师-中级标准 (standard_id=2)
INSERT INTO `salary_standard_item` (`standard_id`, `item_id`, `amount`, `is_calculated`, `create_time`, `update_time`) VALUES
(2, 1, 12000.00, 0, '2025-01-15 10:00:00', '2025-01-15 10:00:00'), -- 基本工资
(2, 2, 3000.00, 0, '2025-01-15 10:00:00', '2025-01-15 10:00:00'), -- 绩效奖金
(2, 3, 500.00, 0, '2025-01-15 10:00:00', '2025-01-15 10:00:00'),  -- 交通补贴
(2, 4, 300.00, 0, '2025-01-15 10:00:00', '2025-01-15 10:00:00'),  -- 餐费补贴
(2, 5, 200.00, 0, '2025-01-15 10:00:00', '2025-01-15 10:00:00'),  -- 全勤奖
(2, 6, 0.00, 1, '2025-01-15 10:00:00', '2025-01-15 10:00:00'),    -- 养老保险（自动计算）
(2, 7, 0.00, 1, '2025-01-15 10:00:00', '2025-01-15 10:00:00'),    -- 医疗保险（自动计算）
(2, 8, 0.00, 1, '2025-01-15 10:00:00', '2025-01-15 10:00:00'),    -- 失业保险（自动计算）
(2, 9, 0.00, 1, '2025-01-15 10:00:00', '2025-01-15 10:00:00');     -- 住房公积金（自动计算）

-- 前端工程师-高级标准 (standard_id=3)
INSERT INTO `salary_standard_item` (`standard_id`, `item_id`, `amount`, `is_calculated`, `create_time`, `update_time`) VALUES
(3, 1, 18000.00, 0, '2025-01-15 10:00:00', '2025-01-15 10:00:00'), -- 基本工资
(3, 2, 5000.00, 0, '2025-01-15 10:00:00', '2025-01-15 10:00:00'), -- 绩效奖金
(3, 3, 800.00, 0, '2025-01-15 10:00:00', '2025-01-15 10:00:00'),  -- 交通补贴
(3, 4, 500.00, 0, '2025-01-15 10:00:00', '2025-01-15 10:00:00'),  -- 餐费补贴
(3, 5, 300.00, 0, '2025-01-15 10:00:00', '2025-01-15 10:00:00'),  -- 全勤奖
(3, 6, 0.00, 1, '2025-01-15 10:00:00', '2025-01-15 10:00:00'),    -- 养老保险（自动计算）
(3, 7, 0.00, 1, '2025-01-15 10:00:00', '2025-01-15 10:00:00'),    -- 医疗保险（自动计算）
(3, 8, 0.00, 1, '2025-01-15 10:00:00', '2025-01-15 10:00:00'),    -- 失业保险（自动计算）
(3, 9, 0.00, 1, '2025-01-15 10:00:00', '2025-01-15 10:00:00');     -- 住房公积金（自动计算）

-- 后端工程师-中级标准 (standard_id=4)
INSERT INTO `salary_standard_item` (`standard_id`, `item_id`, `amount`, `is_calculated`, `create_time`, `update_time`) VALUES
(4, 1, 13000.00, 0, '2025-01-15 10:00:00', '2025-01-15 10:00:00'), -- 基本工资
(4, 2, 3500.00, 0, '2025-01-15 10:00:00', '2025-01-15 10:00:00'), -- 绩效奖金
(4, 3, 500.00, 0, '2025-01-15 10:00:00', '2025-01-15 10:00:00'),  -- 交通补贴
(4, 4, 300.00, 0, '2025-01-15 10:00:00', '2025-01-15 10:00:00'),  -- 餐费补贴
(4, 5, 200.00, 0, '2025-01-15 10:00:00', '2025-01-15 10:00:00'),  -- 全勤奖
(4, 6, 0.00, 1, '2025-01-15 10:00:00', '2025-01-15 10:00:00'),    -- 养老保险（自动计算）
(4, 7, 0.00, 1, '2025-01-15 10:00:00', '2025-01-15 10:00:00'),    -- 医疗保险（自动计算）
(4, 8, 0.00, 1, '2025-01-15 10:00:00', '2025-01-15 10:00:00'),    -- 失业保险（自动计算）
(4, 9, 0.00, 1, '2025-01-15 10:00:00', '2025-01-15 10:00:00');     -- 住房公积金（自动计算）

-- 后端工程师-高级标准 (standard_id=5)
INSERT INTO `salary_standard_item` (`standard_id`, `item_id`, `amount`, `is_calculated`, `create_time`, `update_time`) VALUES
(5, 1, 20000.00, 0, '2025-01-15 10:00:00', '2025-01-15 10:00:00'), -- 基本工资
(5, 2, 6000.00, 0, '2025-01-15 10:00:00', '2025-01-15 10:00:00'), -- 绩效奖金
(5, 3, 800.00, 0, '2025-01-15 10:00:00', '2025-01-15 10:00:00'),  -- 交通补贴
(5, 4, 500.00, 0, '2025-01-15 10:00:00', '2025-01-15 10:00:00'),  -- 餐费补贴
(5, 5, 300.00, 0, '2025-01-15 10:00:00', '2025-01-15 10:00:00'),  -- 全勤奖
(5, 6, 0.00, 1, '2025-01-15 10:00:00', '2025-01-15 10:00:00'),    -- 养老保险（自动计算）
(5, 7, 0.00, 1, '2025-01-15 10:00:00', '2025-01-15 10:00:00'),    -- 医疗保险（自动计算）
(5, 8, 0.00, 1, '2025-01-15 10:00:00', '2025-01-15 10:00:00'),    -- 失业保险（自动计算）
(5, 9, 0.00, 1, '2025-01-15 10:00:00', '2025-01-15 10:00:00');     -- 住房公积金（自动计算）

-- 产品经理-中级标准 (standard_id=6)
INSERT INTO `salary_standard_item` (`standard_id`, `item_id`, `amount`, `is_calculated`, `create_time`, `update_time`) VALUES
(6, 1, 15000.00, 0, '2025-01-15 10:00:00', '2025-01-15 10:00:00'), -- 基本工资
(6, 2, 4000.00, 0, '2025-01-15 10:00:00', '2025-01-15 10:00:00'), -- 绩效奖金
(6, 3, 600.00, 0, '2025-01-15 10:00:00', '2025-01-15 10:00:00'),  -- 交通补贴
(6, 4, 400.00, 0, '2025-01-15 10:00:00', '2025-01-15 10:00:00'),  -- 餐费补贴
(6, 5, 300.00, 0, '2025-01-15 10:00:00', '2025-01-15 10:00:00'),  -- 全勤奖
(6, 6, 0.00, 1, '2025-01-15 10:00:00', '2025-01-15 10:00:00'),    -- 养老保险（自动计算）
(6, 7, 0.00, 1, '2025-01-15 10:00:00', '2025-01-15 10:00:00'),    -- 医疗保险（自动计算）
(6, 8, 0.00, 1, '2025-01-15 10:00:00', '2025-01-15 10:00:00'),    -- 失业保险（自动计算）
(6, 9, 0.00, 1, '2025-01-15 10:00:00', '2025-01-15 10:00:00');     -- 住房公积金（自动计算）

-- ============================================
-- 3. 员工档案数据 (employee_archive)
-- ============================================
-- 注意：档案编号格式：年份4位+一级机构2位+二级机构2位+三级机构2位+编号2位
-- 例如：202501010101 = 2025年 + 01(技术中心) + 01(产品研发部) + 01(前端组) + 01(编号)
INSERT INTO `employee_archive` (
  `archive_number`, `name`, `gender`, `id_number`, `birthday`, `age`, `nationality`, 
  `place_of_birth`, `ethnicity`, `religious_belief`, `political_status`, `education_level`, `major`,
  `email`, `phone`, `qq`, `mobile`, `address`, `postal_code`, `hobby`, `personal_resume`, `family_relationship`, `remarks`,
  `first_org_id`, `second_org_id`, `third_org_id`, `position_id`, `job_title`, `salary_standard_id`,
  `registrar_id`, `registration_time`, `reviewer_id`, `review_time`, `review_comments`, `status`,
  `create_time`, `update_time`
) VALUES
-- 已复核通过的员工档案
('202501010101', '张三', 'MALE', '110101199001011234', '1990-01-01', 35, '中国', '北京', '汉族', '无', '群众', '本科', '计算机科学与技术',
 'zhangsan@example.com', '010-12345678', '123456789', '13800138001', '北京市朝阳区xxx街道xxx号', '100000', '阅读、编程', '2010-2014 就读于XX大学计算机系...', '父亲：张XX，母亲：李XX', '工作认真负责',
 1, 3, 6, 1, 'INTERMEDIATE', 2, 2, '2025-01-20 09:00:00', 3, '2025-01-21 10:30:00', '档案信息完整，已通过复核', 'NORMAL',
 '2025-01-20 09:00:00', '2025-01-21 10:30:00'),

('202501010201', '李四', 'MALE', '110101199205152345', '1992-05-15', 33, '中国', '上海', '汉族', '无', '团员', '本科', '软件工程',
 'lisi@example.com', '021-87654321', '987654321', '13900139002', '上海市浦东新区xxx路xxx号', '200000', '运动、旅游', '2012-2016 就读于XX大学软件工程系...', '父亲：李XX，母亲：王XX', '技术能力强',
 1, 3, 7, 2, 'INTERMEDIATE', 4, 2, '2025-01-20 09:30:00', 3, '2025-01-21 11:00:00', '档案信息完整，已通过复核', 'NORMAL',
 '2025-01-20 09:30:00', '2025-01-21 11:00:00'),

('202501010301', '王五', 'FEMALE', '110101199308203456', '1993-08-20', 32, '中国', '广州', '汉族', '无', '党员', '硕士', '产品设计',
 'wangwu@example.com', '020-12345678', '111222333', '13700137003', '广州市天河区xxx大道xxx号', '510000', '设计、摄影', '2014-2017 就读于XX大学设计系...', '父亲：王XX，母亲：赵XX', '产品思维好',
 1, 3, 8, 3, 'INTERMEDIATE', 6, 2, '2025-01-20 10:00:00', 3, '2025-01-21 11:30:00', '档案信息完整，已通过复核', 'NORMAL',
 '2025-01-20 10:00:00', '2025-01-21 11:30:00'),

-- 待复核的员工档案
('202501010102', '赵六', 'MALE', '110101199506254567', '1995-06-25', 30, '中国', '深圳', '汉族', '无', '群众', '本科', '计算机科学与技术',
 'zhaoliu@example.com', '0755-12345678', '222333444', '13600136004', '深圳市南山区xxx路xxx号', '518000', '游戏、电影', '2013-2017 就读于XX大学计算机系...', '父亲：赵XX，母亲：钱XX', NULL,
 1, 3, 6, 1, 'JUNIOR', 1, 2, '2025-01-25 14:00:00', NULL, NULL, NULL, 'PENDING_REVIEW',
 '2025-01-25 14:00:00', '2025-01-25 14:00:00'),

('202501010202', '孙七', 'FEMALE', '110101199710305678', '1997-10-30', 28, '中国', '杭州', '汉族', '无', '团员', '本科', '软件工程',
 'sunqi@example.com', '0571-87654321', '333444555', '13500135005', '杭州市西湖区xxx街xxx号', '310000', '音乐、阅读', '2015-2019 就读于XX大学软件工程系...', '父亲：孙XX，母亲：周XX', NULL,
 1, 3, 7, 2, 'JUNIOR', NULL, 2, '2025-01-25 15:00:00', NULL, NULL, NULL, 'PENDING_REVIEW',
 '2025-01-25 15:00:00', '2025-01-25 15:00:00');

-- ============================================
-- 4. 薪酬发放单数据 (salary_issuance)
-- ============================================
INSERT INTO `salary_issuance` (
  `salary_slip_number`, `third_org_id`, `total_employees`, `total_basic_salary`, `total_net_pay`,
  `issuance_month`, `issuance_time`, `registrar_id`, `registration_time`, `reviewer_id`, `review_time`, `reject_reason`, `status`, `payment_status`,
  `create_time`, `update_time`
) VALUES
-- 已复核通过的发放单
('PAY202501001', 6, 2, 20000.00, 18000.00, '2025-01-01', '2025-01-31', 4, '2025-01-28 10:00:00', 5, '2025-01-29 14:00:00', NULL, 'EXECUTED', 'PAID',
 '2025-01-28 10:00:00', '2025-01-29 14:00:00'),

-- 待复核的发放单
('PAY202501002', 7, 1, 13000.00, 12000.00, '2025-01-01', NULL, 4, '2025-01-28 11:00:00', NULL, NULL, NULL, 'PENDING_REVIEW', NULL,
 '2025-01-28 11:00:00', '2025-01-28 11:00:00');

-- ============================================
-- 5. 薪酬发放明细数据 (salary_issuance_detail)
-- ============================================
-- 注意：需要先有员工档案和发放单数据
-- 为发放单 PAY202501001 添加明细（前端组，2个员工）
INSERT INTO `salary_issuance_detail` (
  `issuance_id`, `employee_id`, `employee_number`, `employee_name`, `position_name`,
  `basic_salary`, `performance_bonus`, `transportation_allowance`, `meal_allowance`,
  `pension_insurance`, `medical_insurance`, `unemployment_insurance`, `housing_fund`,
  `award_amount`, `deduction_amount`, `total_income`, `total_deduction`, `net_pay`,
  `create_time`, `update_time`
) VALUES
-- 张三的薪酬明细（已复核通过）
(1, 1, '202501010101', '张三', '前端工程师',
 12000.00, 3000.00, 500.00, 300.00,
 960.00, 243.00, 60.00, 960.00,
 200.00, 2223.00, 16000.00, 2223.00, 13777.00,
 '2025-01-28 10:00:00', '2025-01-28 10:00:00'),

-- 赵六的薪酬明细（待复核）
(1, 4, '202501010102', '赵六', '前端工程师',
 8000.00, 2000.00, 500.00, 300.00,
 640.00, 163.00, 40.00, 640.00,
 200.00, 1483.00, 11000.00, 1483.00, 9517.00,
 '2025-01-28 10:00:00', '2025-01-28 10:00:00');

-- 为发放单 PAY202501002 添加明细（后端组，1个员工）
INSERT INTO `salary_issuance_detail` (
  `issuance_id`, `employee_id`, `employee_number`, `employee_name`, `position_name`,
  `basic_salary`, `performance_bonus`, `transportation_allowance`, `meal_allowance`,
  `pension_insurance`, `medical_insurance`, `unemployment_insurance`, `housing_fund`,
  `award_amount`, `deduction_amount`, `total_income`, `total_deduction`, `net_pay`,
  `create_time`, `update_time`
) VALUES
-- 李四的薪酬明细（待复核）
(2, 2, '202501010201', '李四', '后端工程师',
 13000.00, 3500.00, 500.00, 300.00,
 1040.00, 263.00, 65.00, 1040.00,
 200.00, 2408.00, 17200.00, 2408.00, 14792.00,
 '2025-01-28 11:00:00', '2025-01-28 11:00:00');

SET FOREIGN_KEY_CHECKS = 1;

